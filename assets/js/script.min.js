document.addEventListener(
    "DOMContentLoaded",
    function () {
        var t = document.querySelectorAll("[data-bss-dynamic-product]");
        for (var e of t) {
            var r = e.dataset.bssDynamicProductParam;
            e.dataset.reflowProduct = new URL(location.href).searchParams.get(r);
        }
    },
    !1
);
const carrito = document.getElementById("carrito"),
    elementos1 = document.getElementById("lista-1"),
    lista = document.querySelector("#lista-carrito tbody"),
    vaciarCarritoBtn = document.getElementById("vaciar-carrito");
function cargarEventListeners() {
    elementos1.addEventListener("click", comprarElemento),
        carrito.addEventListener("click", eliminarElemento),
        vaciarCarritoBtn.addEventListener("click", vaciarCarrito);
}
function comprarElemento(t) {
    if ((t.preventDefault(), t.target.classList.contains("agregar-carrito"))) {
        leerDatosElemento(t.target.parentElement.parentElement);
    }
}
function leerDatosElemento(t) {
    const e = {
        imagen: t.querySelector("img").src,
        titulo: t.querySelector("h3").textContent,
        precio: t.querySelector(".precio").textContent,
        id: t.querySelector("a").getAttribute("data-id"),
    };
    console.log("Datos del elemento:", e), insertarCarrito(e);
}
function insertarCarrito(t) {
    console.log("Insertando en el carrito:", t);
    const e = document.createElement("tr");
    (e.innerHTML = `\n        <td>\n            <img src="${t.imagen}" width=100 >\n        </td>\n        <td>\n            ${t.titulo}\n        </td>\n        <td>\n            ${t.precio}\n        </td>\n        <td>\n            <a href="#" class="borrar" data-id="${t.id}">X</a>\n        </td>\n    `),
        lista.appendChild(e);
}
function eliminarElemento(t) {
    let e, r;
    t.preventDefault(),
        t.target.classList.contains("borrar") &&
        (t.target.parentElement.parentElement.remove(),
            (e = t.target.parentElement.parentElement),
            (r = e.querySelector("a").getAttribute("data-id")));
}
function vaciarCarrito(t) {
    for (; lista.firstChild;) lista.removeChild(lista.firstChild);
    return !1;
}
cargarEventListeners();

